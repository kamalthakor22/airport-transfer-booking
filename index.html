<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Pearson Airport Drop Booking</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: #ccc;
      display: flex;
      justify-content: center;
      align-items: center;
      min-height: 100vh;
    }
    .container {
      display: flex;
      flex-direction: row;
      border: 2px solid #999;
      background: #fff;
      max-width: 1200px;
      width: 100%;
      height: 90vh;
      overflow: hidden;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .left, .right {
      padding: 30px;
      height: 100%;
      overflow-y: auto;
      box-sizing: border-box;
      padding-bottom: 20px;
    }
    .left {
      width: 40%;
      border-right: 1px solid #eee;
    }
    .right {
      width: 60%;
    }
    h1, h2 {
      margin-top: 0;
    }
    .highlight {
      color: darkblue;
      font-weight: bold;
    }
    /* Calendar Styles */
    .calendar {
      width: 100%;
      margin-top: 10px;
    }
    .calendar-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    .calendar-days {
      display: grid;
      grid-template-columns: repeat(7, 1fr);
      gap: 5px;
      margin-top: 10px;
    }
    .day {
      padding: 8px;
      text-align: center;
      cursor: pointer;
      border-radius: 4px;
    }
    .day:hover {
      background: #eee;
    }
    .day.disabled {
      color: #aaa;
      pointer-events: none;
    }
    .day.selected {
      background: darkblue;
      color: white;
    }
    .slots {
      margin-top: 20px;
    }
    .slot {
      margin: 5px;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 4px;
      cursor: pointer;
    }
    .slot.selected {
      background: darkblue;
      color: white;
    }
    /* üì± Mobile Portrait: stack vertically */
    @media (max-width: 768px) {
      .container {
        flex-direction: column;
        height: auto;
      }
      .left, .right {
        flex: none;
        height: auto;
        max-height: none;
      }
      .left {
        border-right: none;
        border-bottom: 1px solid #eee;
        max-height: 40vh;   /* Shrink left pane */
        overflow-y: auto;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="left">
      <p><strong>üìÜ Selected Date:</strong> <span id="chosenDate" class="highlight">Not selected</span></p>
      <p><strong>‚è∞ Selected Time:</strong> <span id="chosenTime" class="highlight">Not selected</span></p>
      <h1>Pearson Airport Drop Booking</h1>
      <p><strong>Total Time: 2 hr 30 min</strong></p>
      <p>Need a reliable and comfortable ride to Toronto Pearson Airport? I‚Äôve got you covered!</p>
      <p>‚úÖ Private 5-Seater SUV</p>
      <p>Fits 3 passengers comfortably with:</p>
      <ul>
        <li>3 large suitcases</li>
        <li>3 small carry-ons</li>
      </ul>
      <p>üí∞ Payment: Cash</p>
      <p>üí∞ Affordable Flat Rate: Based on the location (call +1 (289) 830-8942) and then book the date/time slot.</p>
      <p>üìç Pick-up Location: Ajax & surrounding areas</p>
      <p>üìç Drop-off: Toronto Pearson International Airport (YYZ)</p>
      <p>üìÜ Available 7 Days a Week ‚Äì Early Morning to Late Night</p>
      <p>üìù How to Book:</p>
      <ul>
        <li>üì± Call or Text: +1 (289) 830-8942</li>
        <li>üí¨ WhatsApp: +1 (289) 830-8942</li>
        <li>üåê Book using Booking Page: <a href="https://kamalthakor22.github.io/airport-transfer-booking" target="_blank">Airport Transfer Booking Page</a></li>
      </ul>
      <p>üöò Safe ‚Ä¢ Punctual ‚Ä¢ Friendly Service ‚Ä¢ Trustworthy</p>
      <p>üßº Clean, smoke-free vehicle ‚Ä¢ In-Car Charging ports ‚Ä¢ Climate Temperate Control</p>
      <p>üéµ Music on request ‚Äì start your trip right!</p>
      <p>üëâ Book now and travel stress-free to the airport!</p>
      <p> <strong>Urgent Booking?!? Within 30 minutes?</strong> Please Call ‚Ä¢ Additional 25% surcharge</p>
    </div>

    <div class="right">
      <h2>Select a Date & Time for your Booking</h2>
      <div class="calendar">
        <div class="calendar-header">
          <button id="prevMonth">‚óÄ</button>
          <h3 id="monthYear"></h3>
          <button id="nextMonth">‚ñ∂</button>
        </div>
        <div class="calendar-days" id="calendar-days"></div>
      </div>
      <div class="slots">
        <h3>Available Time Slots</h3>
        <div id="timeSlots"></div>
      </div>
    </div>
  </div>

  <script>
    let currentYear, currentMonth;
    const today = new Date();

    function isSameDay(d1, d2) {
      return d1.getFullYear() === d2.getFullYear() &&
             d1.getMonth() === d2.getMonth() &&
             d1.getDate() === d2.getDate();
    }

    function renderCalendar(year, month) {
      const monthYear = document.getElementById("monthYear");
      const calendarDays = document.getElementById("calendar-days");
      calendarDays.innerHTML = "";

      const firstDay = new Date(year, month, 1).getDay();
      const daysInMonth = new Date(year, month + 1, 0).getDate();

      monthYear.textContent = new Date(year, month).toLocaleString("default", { month: "long", year: "numeric" });

      // Fill blank days
      for (let i = 0; i < firstDay; i++) {
        calendarDays.innerHTML += `<div class="day empty"></div>`;
      }

      for (let day = 1; day <= daysInMonth; day++) {
        const date = new Date(year, month, day);
        let isPast = date < new Date(today.getFullYear(), today.getMonth(), today.getDate());

        calendarDays.innerHTML += `
          <div 
            class="day ${isPast ? 'disabled' : ''}" 
            data-date="${date.toISOString().split('T')[0]}"
          >
            ${day}
          </div>`;
      }

      // Disable prev button if showing current month
      const prevBtn = document.getElementById("prevMonth");
      if (year === today.getFullYear() && month === today.getMonth()) {
        prevBtn.disabled = true;
      } else {
        prevBtn.disabled = false;
      }

      // Add click listeners
      document.querySelectorAll(".day:not(.disabled)").forEach(dayEl => {
        dayEl.addEventListener("click", () => {
          document.querySelectorAll(".day").forEach(d => d.classList.remove("selected"));
          dayEl.classList.add("selected");
          const selectedDate = new Date(dayEl.dataset.date);
          document.getElementById("chosenDate").textContent = selectedDate.toDateString();
          renderTimeSlots(selectedDate);
        });
      });
    }

    function renderTimeSlots(selectedDate) {
      const slotsContainer = document.getElementById("timeSlots");
      slotsContainer.innerHTML = "";

      const isToday = isSameDay(selectedDate, today);
      const cutoffTime = new Date(today.getTime() + 60 * 60 * 1000); // now + 1 hour

      let startHour = 0;
      while (startHour < 24) {
        const slotStart = new Date(selectedDate);
        slotStart.setHours(startHour, 0, 0, 0);

        if (!isToday || slotStart >= cutoffTime) {
          const label = slotStart.toLocaleTimeString([], { hour: "2-digit", minute: "2-digit" });
          const btn = document.createElement("button");
          btn.className = "slot";
          btn.textContent = label;
          btn.addEventListener("click", () => {
            document.querySelectorAll(".slot").forEach(s => s.classList.remove("selected"));
            btn.classList.add("selected");
            document.getElementById("chosenTime").textContent = label;
          });
          slotsContainer.appendChild(btn);
        }
        startHour += 2.5; // 2h30m increments
      }
    }

    document.getElementById("prevMonth").addEventListener("click", () => {
      currentMonth--;
      if (currentMonth < 0) {
        currentMonth = 11;
        currentYear--;
      }
      renderCalendar(currentYear, currentMonth);
    });

    document.getElementById("nextMonth").addEventListener("click", () => {
      currentMonth++;
      if (currentMonth > 11) {
        currentMonth = 0;
        currentYear++;
      }
      renderCalendar(currentYear, currentMonth);
    });

    // Init
    currentYear = today.getFullYear();
    currentMonth = today.getMonth();
    renderCalendar(currentYear, currentMonth);
  </script>
</body>
</html>
